# PDF RAG Roadmap

## 已完成 ✅

- PDF 解析（MinerU + VLM 双引擎）
- 图片理解（VLM 描述 + 索引）
- 语义分块（层级结构 + parentChunkId）
- RAG 检索（hybrid 模式 + 层级扩展 expandToParent/expandToSiblings）
- 交叉验证（verifierLlm 独立回答对比）

## 待实现

### 1. 页码定位
- **复杂度**: 简单
- **方案**: chunk metadata 加 `pageNumber` 字段
- **效果**: sources 返回具体页码，用户可直接跳转验证

### 2. 多 PDF 关联查询
- **复杂度**: 中等
- **方案**: 去掉 bundleId 强制过滤，支持跨 bundle 检索
- **效果**: 跨多个论文的知识问答

### 3. 公式语义解释
- **复杂度**: 中等
- **方案**: VLM prompt 增强，要求解释公式含义而非仅转录 LaTeX
- **效果**: 公式问答更智能

### 4. 表格问答
- **复杂度**: 中等
- **方案**: 已有结构化提取基础，优化表格理解 prompt
- **效果**: 表格内容精准问答

### 5. 差量索引
- **复杂度**: 复杂
- **方案**: chunk 级别 diff，仅更新变化部分
- **效果**: 大文档更新时效率提升

### 6. 不确定性量化
- **复杂度**: 复杂
- **方案**: 多次采样 + 答案一致性评估
- **效果**: 返回答案置信度分数
